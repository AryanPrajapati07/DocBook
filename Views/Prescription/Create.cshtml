@model DocBook.Models.PrescriptionViewModel
@{
    var ap = ViewBag.Appointment as DocBook.Models.Appointment;
}

@if (ap != null)
{
    <h3>Prescription for @ap.PatientName</h3>
    <p>Doctor: @ap.DoctorName</p>
    <p>Date: @ap.AppointmentDate.ToShortDateString()</p>
    <h2>Add Prescription for @ap.PatientName (@ap.AppointmentDate.ToString("yyyy-MM-dd"))</h2>

    <form asp-action="Create" method="post">
        <input asp-for="AppointmentId" type="hidden" />
        <div class="mb-3"><label>Medicine</label><input asp-for="MedicineName" class="form-control" /></div>
        <div class="mb-3"><label>Dosage</label><input asp-for="Dosage" class="form-control" /></div>
        <div class="mb-3"><label>Instructions</label><textarea asp-for="Instructions" class="form-control"></textarea></div>
        <button class="btn btn-primary">Save</button>
        <a asp-action="Index" asp-route-appointmentId="@Model.AppointmentId" class="btn btn-secondary">Cancel</a>
    </form>
}
else
{
    <p style="color:red;">No appointment selected.</p>


}